import{r as N,y as S,i as W,k as T,B as I,o,c as i,d as e,l as s,t as a,I as c,J as L,K as z,a as p,w as A,_ as U}from"./entry.173e41ed.js";import{u as G}from"./fetch.4554c3a5.js";import{v as Z}from"./v3.33a62ef4.js";const q={class:"container-fluid px-0",id:"jumbotron"},H={class:"jumbo-image"},Q=["src"],X={class:"wrap container"},Y={class:"row"},ee={class:"col-sm-6 movie-details"},se={key:0,class:"score d-flex align-items-center"},te=e("div",{class:"score-tag me-3"},"TMDb",-1),oe={class:"score-number"},ie={class:"title"},re={class:"details d-flex align-items-center"},le={key:0,class:"ratings d-flex justify-content-center align-items-center me-3"},ne={key:1,class:"year me-3"},ae={key:2,class:"time me-3"},ce={key:1,class:"description"},de={key:2,class:"description"},ue={key:0,class:"button"},ve={key:0,class:"col-sm-6 trailer-details d-flex justify-content-center align-items-center"},pe=e("div",{class:"trailer-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewbox:"0 0 55 55"},[e("circle",{cx:"27.5",cy:"27.5",r:"26.75",fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),e("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20.97 40.81L40.64 27.5 20.97 14.19v26.62z"})])],-1),_e=e("div",{class:"trailer-text"},"watch trailer",-1),me=[pe,_e],fe={key:1,class:"col-sm-6 trailer-details d-flex justify-content-center align-items-center"},he=e("div",{class:"trailer-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewbox:"0 0 55 55"},[e("circle",{cx:"27.5",cy:"27.5",r:"26.75",fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),e("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20.97 40.81L40.64 27.5 20.97 14.19v26.62z"})])],-1),$e={__name:"Jumbotron",async setup(ke){var m;let n,u;const v=N(!1),_=N(1),J=S(),V=W(()=>"/api/listings"),{data:r,error:E}=([n,u]=T(()=>G(V,{cache:1e3*60*5,lazy:!0},"$0yRA7Z4W43")),n=await n,u(),n);if(E.value)throw I({statusCode:404,statusMessage:"Page Not Found",fatal:!0});const K=(m=r.value)==null?void 0:m.popularMovies.results[0].id,{data:d}=([n,u]=T(()=>G(`/api/movies/${K}`,{immediate:!0},"$SsoFJfFBe6")),n=await n,u(),n);function O(){let t=[];for(let l=0;l<d.value.videos.results.length;l++)(d.value.videos.results[l].type==="Trailer"||d.value.videos.results[l].type==="Teaser")&&(t[l]=`https://www.youtube.com/watch?v=${d.value.videos.results[l].key}`);return t.flat().slice(0,1)}function P(t){_.value=t,v.value=!v.value}return(t,l)=>{var h,k,g,w,y,$,M,b,x,j,D;const f=U;return o(),i("section",q,[e("div",H,[e("img",{src:`${s(J).public.imgBackdropBaseUrl}${(h=s(r))==null?void 0:h.popularMovies.results[0].backdrop_path}`,alt:"featured movie poster"},null,8,Q)]),e("div",X,[e("div",Y,[e("div",ee,[t.$device.isDesktop?(o(),i("div",se,[te,e("div",oe,a((k=s(r))==null?void 0:k.popularMovies.results[0].vote_average),1)])):c("",!0),e("div",ie,a(s(r).popularMovies.results[0].title),1),e("div",re,[t.$device.isDesktop?(o(),i("div",le,a((g=s(r))!=null&&g.popularMovies.results[0].adult?"PG":"G"),1)):c("",!0),t.$device.isDesktop?(o(),i("div",ne,a((w=s(r))==null?void 0:w.popularMovies.results[0].release_date.split("-")[0]),1)):c("",!0),t.$device.isDesktop?(o(),i("div",ae,a(`${Math.floor(((y=s(d))==null?void 0:y.ids.runtime)/60)} hr ${(($=s(d))==null?void 0:$.ids.runtime)%60} mins`),1)):c("",!0),(o(!0),i(L,null,z((M=s(r))==null?void 0:M.popularMovies.results[0].genre_ids,(B,R)=>{var C;return o(),i("div",{class:"genre",key:R},[(o(!0),i(L,null,z((C=s(r))==null?void 0:C.movieGenres.genres,F=>(o(),i("div",null,a(B===F.id?F.name:null),1))),256))])}),128))]),t.$device.isDesktop?(o(),i("div",ce,a((b=s(r))==null?void 0:b.popularMovies.results[0].overview),1)):t.$device.isMobileOrTablet?(o(),i("div",de,a(((x=s(r))==null?void 0:x.popularMovies.results[0].overview.slice(0,120))+"..."),1)):c("",!0),p(f,{to:`/movie/${(j=s(r))==null?void 0:j.popularMovies.results[0].id}`},{default:A(()=>[t.$device.isDesktop?(o(),i("div",ue,"Watch now")):c("",!0)]),_:1},8,["to"])]),t.$device.isDesktop?(o(),i("div",ve,[e("div",{class:"playbutton d-flex justify-content-center align-items-center",onClick:l[0]||(l[0]=B=>P(1))},me)])):t.$device.isMobileOrTablet?(o(),i("div",fe,[p(f,{to:`/movie/${(D=s(r).popularMovies)==null?void 0:D.results[0].id}`},{default:A(()=>[he]),_:1},8,["to"])])):c("",!0)])]),p(s(Z.exports),{toggler:s(v),slide:s(_),sources:O()},null,8,["toggler","slide","sources"])])}}};export{$e as default};
